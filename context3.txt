# üè• AN√ÅLISIS DE REQUERIMIENTOS - CENTRO M√âDICO UROVITAL

## üìã RESUMEN EJECUTIVO

El Centro M√©dico Urovital E.I.R.L. es un centro m√©dico especializado principalmente en **urolog√≠a** con servicios complementarios. Requiere adaptaciones espec√≠ficas en el sistema hospitalario para reflejar su modelo de negocio actual.

---

## üîç HALLAZGOS CLAVE DE LA ENTREVISTA

### 1. **MODELO DE NEGOCIO ESPEC√çFICO**
- **Especialidad principal**: Urolog√≠a (Dr. Mario como √∫nico ur√≥logo permanente)
- **Especialidades bajo demanda**: Medicina interna, ginecolog√≠a, gastroenterolog√≠a, nefrolog√≠a, reumatolog√≠a
- **Servicios propios**: Laboratorio, ecograf√≠as, uroflujometr√≠as, cistoscopias
- **Proyecto futuro**: Farmacia (en proceso de habilitaci√≥n DIGEMID)

### 2. **HORARIOS DE OPERACI√ìN**
- **Horario partido**: 7:00 AM - 1:00 PM y 4:00 PM - 8:00 PM
- **Atenci√≥n diaria**: Lunes a s√°bado (seg√∫n contexto)

### 3. **SISTEMA DE CITAS ACTUAL**
- **Sin agenda previa obligatoria**: Los pacientes pueden llegar directamente
- **Orden de atenci√≥n**: Por llegada (FIFO - First In, First Out)
- **Pago previo obligatorio**: No se puede pasar con el doctor sin pagar
- **Sistema actual**: Tienen software propio con integraci√≥n RENIEC

### 4. **PROCESO DE PAGO IDENTIFICADO**
- **M√©todos aceptados**: Efectivo, Yape, Plin, transferencia, Visa, cr√©dito, dep√≥sito
- **Costo consulta**: S/. 150.00
- **Flujo**: Registro ‚Üí Pago ‚Üí Pase con doctor
- **Integraci√≥n RENIEC**: Autom√°tica por DNI

### 5. **ESPECIALISTAS BAJO DEMANDA**
- **Dra. Milagros Alvites Mudarra**: Medicina interna
- **Dra. Mayra**: Ginecolog√≠a (esposa del doctor principal)
- **Gastroenter√≥logo**: Bajo llamado
- **Nefr√≥loga**: Bajo llamado
- **Disponibilidad**: Solo cuando el ur√≥logo principal los solicita

---

## üéØ ADAPTACIONES REQUERIDAS AL SISTEMA

### **A. M√ìDULO DE ESPECIALIDADES**

#### Especialidades Principales (Activas)
```sql
-- Especialidad principal siempre disponible
INSERT INTO specialties (name, consultation_price, is_active, is_primary) VALUES
('Urolog√≠a', 150.00, true, true);

-- Especialidades bajo demanda
INSERT INTO specialties (name, is_active, is_on_demand) VALUES
('Medicina Interna', true, true),
('Ginecolog√≠a', true, true),
('Gastroenterolog√≠a', true, true),
('Nefrolog√≠a', true, true),
('Reumatolog√≠a', true, true);
```

#### Modificaciones Entidad Specialty
```java
@Entity
public class Specialty extends BaseEntity {
    // ... campos existentes
    
    @Column(name = "is_primary")
    private Boolean isPrimary = false; // Especialidad principal del centro
    
    @Column(name = "is_on_demand")
    private Boolean isOnDemand = false; // Especialidad bajo demanda
    
    @Column(name = "requires_referral")
    private Boolean requiresReferral = false; // Requiere derivaci√≥n
}
```

### **B. M√ìDULO DE DOCTORES**

#### Tipos de Doctores
1. **Doctor Principal** (permanente)
2. **Doctores Bajo Demanda** (por llamado)

```java
@Entity
public class Doctor extends BaseEntity {
    // ... campos existentes
    
    @Enumerated(EnumType.STRING)
    @Column(name = "availability_type")
    private DoctorAvailabilityType availabilityType; // PERMANENT, ON_DEMAND
    
    @Column(name = "contact_phone")
    private String contactPhone; // Para llamar a doctores bajo demanda
    
    @Column(name = "is_external")
    private Boolean isExternal = false; // Doctor externo
}

enum DoctorAvailabilityType {
    PERMANENT,     // Doctor permanente
    ON_DEMAND,     // Doctor bajo demanda
    SCHEDULED      // Doctor con horario fijo
}
```

### **C. M√ìDULO DE CITAS MODIFICADO**

#### Sistema de Citas Walk-in + Programadas
```java
@Entity
public class Appointment extends BaseEntity {
    // ... campos existentes
    
    @Enumerated(EnumType.STRING)
    @Column(name = "appointment_type")
    private AppointmentType appointmentType; // WALK_IN, SCHEDULED, ON_DEMAND
    
    @Column(name = "arrival_time")
    private LocalDateTime arrivalTime; // Hora de llegada real
    
    @Column(name = "queue_number")
    private Integer queueNumber; // N√∫mero en cola
    
    @Column(name = "referral_from_doctor_id")
    private Long referralFromDoctorId; // Derivaci√≥n desde doctor principal
}

enum AppointmentType {
    WALK_IN,      // Paciente llega directamente
    SCHEDULED,    // Cita programada
    ON_DEMAND,    // Cita con especialista bajo demanda
    REFERRAL      // Derivaci√≥n interna
}
```

### **D. SERVICIOS ADICIONALES**

#### Entidad para Servicios del Centro
```java
@Entity
@Table(name = "medical_services")
public class MedicalService extends BaseEntity {
    @Column(name = "service_name", nullable = false)
    private String serviceName;
    
    @Column(name = "service_type")
    @Enumerated(EnumType.STRING)
    private ServiceType serviceType; // LABORATORY, IMAGING, PROCEDURE
    
    @Column(name = "base_price")
    private BigDecimal basePrice;
    
    @Column(name = "is_available")
    private Boolean isAvailable = true;
    
    @Column(name = "requires_doctor_order")
    private Boolean requiresDoctorOrder = false;
}

enum ServiceType {
    LABORATORY,      // Laboratorio
    IMAGING,         // Ecograf√≠as
    PROCEDURE,       // Uroflujometr√≠a, Cistoscopia
    CONSULTATION,    // Consultas
    PHARMACY         // Farmacia (futuro)
}
```

### **E. M√ìDULO DE COLA/TURNOS**

#### Sistema de Cola para Walk-ins
```java
@Entity
@Table(name = "appointment_queue")
public class AppointmentQueue extends BaseEntity {
    @ManyToOne
    @JoinColumn(name = "patient_id")
    private Patient patient;
    
    @ManyToOne
    @JoinColumn(name = "doctor_id")
    private Doctor doctor;
    
    @Column(name = "queue_date")
    private LocalDate queueDate;
    
    @Column(name = "queue_number")
    private Integer queueNumber;
    
    @Column(name = "estimated_time")
    private LocalTime estimatedTime;
    
    @Enumerated(EnumType.STRING)
    @Column(name = "status")
    private QueueStatus status; // WAITING, CALLED, IN_PROGRESS, COMPLETED
}
```

---

## üîÑ FLUJOS DE PROCESO ADAPTADOS

### **1. FLUJO PACIENTE WALK-IN (Principal)**
```
Paciente llega ‚Üí Registro/Verificaci√≥n RENIEC ‚Üí Pago obligatorio ‚Üí 
Asignaci√≥n n√∫mero de cola ‚Üí Espera ‚Üí Llamado ‚Üí Consulta ‚Üí 
Posible derivaci√≥n a especialista
```

### **2. FLUJO ESPECIALISTA BAJO DEMANDA**
```
Doctor principal eval√∫a ‚Üí Solicita especialista ‚Üí Personal contacta especialista ‚Üí 
Agenda cita ‚Üí Paciente programa nueva cita ‚Üí Especialista viene ‚Üí Consulta
```

### **3. FLUJO SERVICIOS AUXILIARES**
```
Orden m√©dica ‚Üí Pago servicio ‚Üí Realizaci√≥n (lab/eco) ‚Üí 
Entrega de resultados ‚Üí Seguimiento con doctor
```

---

## ‚ö° FUNCIONALIDADES PRIORITARIAS

### **ALTA PRIORIDAD**
1. **Sistema de cola en tiempo real** para walk-ins
2. **Integraci√≥n RENIEC** para registro autom√°tico
3. **M√∫ltiples m√©todos de pago** (especialmente Yape/Plin)
4. **Gesti√≥n de especialistas bajo demanda**
5. **Facturaci√≥n inmediata** con boletas

### **MEDIA PRIORIDAD**
1. **M√≥dulo de laboratorio** con tipos de ex√°menes espec√≠ficos
2. **Gesti√≥n de servicios de imagenolog√≠a**
3. **Sistema de derivaciones internas**
4. **Dashboard para personal administrativo**

### **BAJA PRIORIDAD**
1. **M√≥dulo de farmacia** (proyecto futuro)
2. **Telemedicina** (no requerido actualmente)
3. **Historiales cl√≠nicos complejos** (sistema actual funciona)

---

## üé® INTERFACES REQUERIDAS

### **Para Personal Administrativo**
- **Dashboard de cola en tiempo real**
- **Registro r√°pido con RENIEC**
- **Procesamiento de pagos m√∫ltiples**
- **Gesti√≥n de turnos y llamados**

### **Para Doctores**
- **Lista de pacientes en espera**
- **Solicitud de especialistas**
- **√ìrdenes de laboratorio/im√°genes**
- **Acceso a historiales b√°sicos**

### **Para Pacientes (Opcional)**
- **Consulta de posici√≥n en cola**
- **Pre-registro desde casa**
- **Consulta de resultados**

---

## üîß CONFIGURACIONES ESPEC√çFICAS

### **Centro M√©dico Settings**
```java
// Configuraciones espec√≠ficas del centro
hospital.name=Centro M√©dico Urovital E.I.R.L.
hospital.ruc=20xxxxxxxxx
hospital.primary_specialty=Urolog√≠a
hospital.operating_hours=07:00-13:00,16:00-20:00
hospital.walk_in_enabled=true
hospital.advance_booking_required=false
hospital.payment_before_consultation=true
hospital.reniec_integration=true
```

### **Horarios Especiales**
- **Horario partido**: Configurar dos bloques diarios
- **Sin citas nocturnas**: Limitar horarios
- **Especialistas flexibles**: Horarios variables seg√∫n disponibilidad

---

## üìä M√âTRICAS IMPORTANTES

1. **Tiempo promedio de espera** por paciente walk-in
2. **N√∫mero de pacientes atendidos** por d√≠a/semana
3. **Utilizaci√≥n de especialistas** bajo demanda
4. **Ingresos por tipo de servicio**
5. **Satisfacci√≥n del paciente** con tiempos de espera

Este an√°lisis debe servir como base para adaptar el sistema hospitalario actual a las necesidades reales del Centro M√©dico Urovital, manteniendo la flexibilidad para futuras expansiones.